!!! 5
html(lang="en")
    head
        meta( name="viewport", content="width=device-width, initial-scale=1.0")
        link( href="/bs/css/bh-bootstrap.min.css", rel="stylesheet", media="screen")

        |<!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        |<!--[if lt IE 9]>
        |    <script src="../../assets/js/html5shiv.js"></script>
        |    <script src="../../assets/js/respond.min.js"></script>
        |<![endif]-->

        title cqrs-sample - CQRS Sample with cqrs-domain, cqrs-eventdenormalizer, etc.
    body( ng-app)
        .container
            h1 cqrs-sample
            p At this point of development you can create, change and delete items.
            p They are saved in a read model for presentation and in an eventstore for domain persitance.

            #index-view(ng-controller="ItemsCtrl")
                form.form-inline
                    .form-group
                        input#newItemName.form-control(type="text", autofocus, placeholder="Enter new item name", ng-model="itemName")
                    button#addItem.btn.btn-primary(type="submit", ng-click="addItem('newItemName')") Add

                p Our items so far:
                ul#items
                    li( ng-repeat="item in items", ng-init="itemIdx = $index")
                        .item-editor(ng-controller="ItemCtrl")
                            .item(ng-hide="editMode")
                                span {{ item.name }}
                                button.btn.btn-xs.btn-default(type="submit", ng-click="edit()")
                                    span.glyphicon.glyphicon-edit
                                button.btn.btn-xs.btn-danger(type="submit", ng-click="delete()")
                                    span.glyphicon.glyphicon-remove
                            .edit(ng-show="editMode")
                                input(type="text", ng-model="editItem.name", autofocus)
                                button.btn.btn-xs.btn-default(type="submit", ng-click="cancel()")
                                    span.glyphicon.glyphicon-remove
                                button.btn.btn-xs.btn-default(type="submit", value="save", ng-click="save()")
                                    span.glyphicon.glyphicon-check

            p You can have multiple browser windows open - all get updated via socket.io.
        
        script(src='/js/lib/jquery-1.10.2.min.js', type='text/javascript')
        script(src='/js/lib/underscore.js', type='text/javascript')
        //- script(src='/js/lib/backbone.js', type='text/javascript')
        //- script(src='/js/lib/backboneCQRS-0.4.js', type='text/javascript')
        //- script(src='http://localhost:3000/socket.io/socket.io.js', type='text/javascript')
        script( src="/bs/js/bootstrap.min.js")
        script( src="https://ajax.googleapis.com/ajax/libs/angularjs/1.0.8/angular.min.js", type="text/javascript")
        script( src="/js/lib/uuid.js")
        script(src='/js/controller.js', type='text/javascript')



